<ng-container *ngIf="!(loading$ | async); else Loading">
  <nav
    class="bg-gradient-to-r from-gray-50 to-white m-4 rounded-md drop-shadow-xl"
  >
    <div
      *ngIf="user$ | async as user"
      class="flex flex-wrap justify-between p-4"
    >
      <a
        class="self-center text-3xl font-semibold whitespace-nowrap dark:text-gray-900"
        [routerLink]="['/']"
        >Movie
      </a>
      <div
        class="max-w-xs cursor-pointer text-ellipsis overflow-hidden ... self-center text-2xl font-semibold whitespace-nowrap dark:text-gray-900 ml-4"
        [matMenuTriggerFor]="menu"
      >
        {{ user.name }}
      </div>
      <mat-menu #menu="matMenu" [xPosition]="'before'">
        <button mat-menu-item (click)="selectAdmin(user.id!)">Admin</button>
        <button mat-menu-item>Log Out</button>
      </mat-menu>
      <!-- TODO: fix lag issue -->
      <!-- <ms-search-input
        [disabled]="(loading$ | async)!"
        [query]="(movieQuery$ | async)!"
        (searchMovieEvent)="searchMovie($event)"
      ></ms-search-input> -->
    </div>
  </nav>

  <ms-search-list
    [movieList]="(movieList$ | async)!.results"
    (selectMovieEvent)="selectMovie($event)"
  ></ms-search-list>
</ng-container>

<ng-template #Loading>
  <ms-search-loading></ms-search-loading>
</ng-template>
